ðŸš€ Day 34 of #100DaysOfDevOps with #KodeKloud ðŸš€

Today's challenge was all about Git Hooks

ðŸ§  Need to Know
Git provides a way to trigger custom scripts when certain important actions occur.

There are two types of hooks: client-side and server-side.
ðŸ”¹ Client-side: triggered by operations such as committing and merging
ðŸ”¹ Server-side: triggered by network operations such as receiving pushed commits

To install a hook, you just need to rename it by removing .sample from its name in the .git/hooks directory

The task was to create a post-update hook to generate a release tag for each push. The post-update hook runs right after a push is completed on the remote repository.

Here's How I Did It:
ðŸ”¹ Merged the feature and master branches in the repository
ðŸ”¹ Went to the remote repository (/opt/ecommerce.git), accessed the Git hooks, and updated the post-update hook by removing .sample from its name and changing its content to:

#!/bin/bash

if [ "$1" = refs/heads/master ]; then
 echo "Creating release tag"
 git tag release-`date '+%Y-%m-%d'` master
fi

ðŸ”¹ Went back to the local repository and pushed the changes
ðŸ”¹ Tested the release tag in the remote repository using git tag
ðŸ”¹ Verified the tag release-2025-02-05

ðŸ’¡ Key Takeaways:

âœ… Since this specific hook is a server-side one, the configuration and script must be in the remote repository, not the local one (took me a while to figure that out!).

âœ… There are many other useful hooks as well, such as:

ðŸ”¸pre-commit: runs first, before you even type a commit message.
ðŸ”¸post-commit: runs after a commit is made. often used for notifications or similar tasks.
ðŸ”¸ post-merge: runs after a successful merge. It can be used to restore data that Git doesn't track, such as file permissions.

â€¦and many others that perform specific tasks at different stages of the Git workflow.

Have a good Day, everyone! ðŸ¦¬

#GitHooks #DevOps #AutomationScripting